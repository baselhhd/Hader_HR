# 🧪 مستخدمون تجريبيون - Test Users

## 📋 نظرة عامة

هذا الملف يحتوي على معلومات المستخدمين التجريبيين المُنشأين لاختبار جميع أدوار نظام حاضر.

> ⚠️ **تحذير أمني**: هذه المستخدمات للتطوير والاختبار فقط. يجب حذفها قبل النشر إلى الإنتاج!

---

## 👥 المستخدمون التجريبيون

### 1️⃣ مدير النظام - Super Admin

| الحقل | القيمة |
|------|--------|
| **اسم المستخدم** | `admin` |
| **كلمة المرور** | `Admin@123` |
| **الاسم الكامل** | مدير النظام |
| **الدور** | `super_admin` |
| **البريد الإلكتروني** | admin@internal.hader.local |
| **الهاتف** | +966501234567 |
| **رابط لوحة التحكم** | `/admin/dashboard` |

**الصلاحيات:**
- ✅ إدارة الشركات والفروع
- ✅ إدارة المواقع والورديات
- ✅ إدارة جميع المستخدمين
- ✅ عرض جميع البيانات في النظام
- ✅ الوصول إلى قاعدة البيانات
- ✅ إعدادات النظام المتقدمة

---

### 2️⃣ موظف الموارد البشرية - HR Admin

| الحقل | القيمة |
|------|--------|
| **اسم المستخدم** | `hr` |
| **كلمة المرور** | `Hr@123` |
| **الاسم الكامل** | موظف الموارد البشرية |
| **الدور** | `hr_admin` |
| **البريد الإلكتروني** | hr@internal.hader.local |
| **الهاتف** | +966502345678 |
| **رابط لوحة التحكم** | `/hr/dashboard` |

**الصلاحيات:**
- ✅ إدارة الموظفين في الشركة
- ✅ عرض سجلات الحضور لجميع الموظفين
- ✅ إدارة طلبات الإجازات
- ✅ إنشاء التقارير الشهرية والسنوية
- ✅ تصدير البيانات (CSV, Excel)
- ✅ عرض الإحصائيات والرسوم البيانية

---

### 3️⃣ مدير الموقع - Location Manager

| الحقل | القيمة |
|------|--------|
| **اسم المستخدم** | `manager` |
| **كلمة المرور** | `Manager@123` |
| **الاسم الكامل** | مدير الموقع |
| **الدور** | `loc_manager` |
| **البريد الإلكتروني** | manager@internal.hader.local |
| **الهاتف** | +966503456789 |
| **رابط لوحة التحكم** | `/manager/dashboard` |
| **رقم الموظف** | MGR-001 |
| **الموقع** | مستودع الشرق |
| **القسم** | الإدارة |
| **المنصب** | مدير موقع |

**الصلاحيات:**
- ✅ عرض سجلات حضور موظفي موقعه فقط
- ✅ الموافقة/الرفض على طلبات التحقق المشبوهة
- ✅ عرض تقارير الموقع
- ✅ إدارة رموز الحضور (QR, Color, Code)
- 🔒 لا يمكنه رؤية موظفي المواقع الأخرى

---

### 4️⃣ موظف عادي - Employee

| الحقل | القيمة |
|------|--------|
| **اسم المستخدم** | `employee` |
| **كلمة المرور** | `Employee@123` |
| **الاسم الكامل** | موظف تجريبي |
| **الدور** | `employee` |
| **البريد الإلكتروني** | employee@internal.hader.local |
| **الهاتف** | +966504567890 |
| **رابط لوحة التحكم** | `/employee/dashboard` |
| **رقم الموظف** | EMP-001 |
| **الموقع** | مستودع الشرق |
| **القسم** | العمليات |
| **المنصب** | موظف تشغيلي |
| **الوردية** | الصباحية (8:00 - 17:00) |
| **رصيد الإجازات** | 21 يوم |
| **رصيد المرضية** | 15 يوم |

**الصلاحيات:**
- ✅ تسجيل الحضور والانصراف
- ✅ عرض سجلات حضوره فقط
- ✅ تقديم طلبات إجازة
- ✅ عرض ملفه الشخصي
- 🔒 لا يمكنه رؤية بيانات الموظفين الآخرين

---

## 🚀 كيفية الاستخدام

### الخطوة 1: تطبيق Migration على Supabase

**الطريقة الأولى - عبر Supabase Dashboard:**

1. افتح [Supabase Dashboard](https://app.supabase.com)
2. اختر مشروعك
3. اذهب إلى **SQL Editor**
4. افتح ملف `supabase/migrations/20251015_insert_test_users.sql`
5. انسخ محتوياته
6. الصقها في SQL Editor
7. اضغط **Run** لتنفيذ الأوامر

**الطريقة الثانية - عبر Supabase CLI:**

```bash
# تأكد من تسجيل دخولك
supabase login

# ربط المشروع المحلي بمشروع Supabase
supabase link --project-ref your-project-ref

# تطبيق جميع Migrations
supabase db push
```

---

### الخطوة 2: تسجيل الدخول

1. افتح التطبيق على: `http://localhost:8080/login`
2. اختر أحد المستخدمين من الجدول أعلاه
3. أدخل **اسم المستخدم** و **كلمة المرور**
4. اضغط **تسجيل الدخول**

سيتم توجيهك تلقائياً إلى لوحة التحكم الخاصة بالدور.

---

## 🧪 سيناريوهات الاختبار

### السيناريو 1: اختبار تسجيل حضور الموظف

1. سجل دخول كـ **employee**
2. اذهب إلى صفحة **تسجيل الحضور** (`/employee/check-in`)
3. اختر طريقة التسجيل (QR / Color / Code)
4. سجل الحضور
5. تحقق من ظهور السجل في **سجل الحضور**

### السيناريو 2: اختبار الموافقة على طلبات التحقق

1. سجل دخول كـ **manager**
2. اذهب إلى **طلبات التحقق** (`/manager/verifications`)
3. راجع أي طلبات مشبوهة
4. وافق أو ارفض الطلبات

### السيناريو 3: اختبار تقارير الموارد البشرية

1. سجل دخول كـ **hr**
2. اذهب إلى **التقارير** (`/hr/reports`)
3. اختر نوع التقرير (شهري/سنوي)
4. صدّر البيانات (CSV/Excel)
5. راجع الإحصائيات والرسوم البيانية

### السيناريو 4: اختبار إدارة النظام

1. سجل دخول كـ **admin**
2. اذهب إلى **إدارة الشركات** (`/admin/companies`)
3. أضف شركة جديدة
4. اذهب إلى **قاعدة البيانات** (`/admin/database`)
5. راجع جميع المستخدمين في النظام

---

## 🔐 ملاحظات أمنية

### للتطوير فقط

هذه المستخدمات مُنشأة للتطوير والاختبار. **لا تستخدمها في الإنتاج!**

### كلمات المرور

- كلمات المرور الحالية ضعيفة ومعروفة
- في الإنتاج، استخدم كلمات مرور قوية وفريدة
- فعّل المصادقة الثنائية (2FA)

### البريد الإلكتروني

- جميع البريدات تنتهي بـ `@internal.hader.local`
- هذه بريدات داخلية وليست حقيقية
- في الإنتاج، استخدم بريدات حقيقية

### حذف المستخدمين التجريبيين

قبل النشر إلى الإنتاج، نفذ هذا SQL:

```sql
-- حذف المستخدمين التجريبيين من auth.users
DELETE FROM auth.users
WHERE email LIKE '%@internal.hader.local'
  AND id >= '10000000-0000-0000-0000-000000000001'
  AND id <= '10000000-0000-0000-0000-000000000004';

-- حذف السجلات المرتبطة من users
DELETE FROM users
WHERE id >= '10000000-0000-0000-0000-000000000001'
  AND id <= '10000000-0000-0000-0000-000000000004';
```

---

## 📊 البيانات التجريبية المُنشأة

بالإضافة للمستخدمين، تم إنشاء:

- ✅ سجل حضور للموظف العادي (اليوم)
- ✅ سجل حضور للمدير (اليوم)
- ✅ ربط المدير بموقع "مستودع الشرق"
- ✅ تعيين ورديات للموظفين

---

## 🆘 حل المشاكل

### لا أستطيع تسجيل الدخول

1. تأكد من تطبيق Migration على Supabase
2. تحقق من كتابة اسم المستخدم وكلمة المرور بشكل صحيح
3. افتح Database Viewer في Supabase وتحقق من وجود المستخدمين
4. تحقق من Console في المتصفح للأخطاء

### الصفحة تُرجعني إلى Login

1. تحقق من متغيرات البيئة في `.env`
2. تأكد من صحة `VITE_SUPABASE_URL` و `VITE_SUPABASE_ANON_KEY`
3. تحقق من RLS policies في Supabase

### لا أرى البيانات في لوحة التحكم

1. تحقق من وجود بيانات تجريبية في قاعدة البيانات
2. راجع RLS policies للجدول المعني
3. افتح Console في المتصفح وشاهد الأخطاء

---

## 📝 معلومات إضافية

### UUIDs المستخدمة

- Super Admin: `10000000-0000-0000-0000-000000000001`
- HR Admin: `10000000-0000-0000-0000-000000000002`
- Location Manager: `10000000-0000-0000-0000-000000000003`
- Employee: `10000000-0000-0000-0000-000000000004`

### الشركة والفرع والموقع

- Company ID: `00000000-0000-0000-0000-000000000001` (شركة الحضور الذكي)
- Branch ID: `00000000-0000-0000-0000-000000000011` (الفرع الرئيسي)
- Location ID: `00000000-0000-0000-0000-000000000021` (مستودع الشرق)
- Shift ID: `00000000-0000-0000-0000-000000000031` (الصباحية 8:00-17:00)

---

## ✅ قائمة التحقق

- [ ] تطبيق Migration على Supabase
- [ ] اختبار تسجيل دخول كل دور
- [ ] اختبار تسجيل حضور الموظف
- [ ] اختبار موافقة المدير على الطلبات
- [ ] اختبار تقارير HR
- [ ] اختبار إدارة الشركات (Admin)
- [ ] اختبار طلبات الإجازات
- [ ] اختبار Database Viewer
- [ ] حذف المستخدمين قبل الإنتاج

---

**آخر تحديث**: 2024-10-15
**الإصدار**: 1.0.0
**الحالة**: جاهز للاختبار ✅
